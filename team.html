<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –¥–æ–º ‚Äî –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0d0d10; --accent:#ffb703;
  --ghost:#7dd3fc; --hunters:#fca5a5;
}
body{
  margin:0; padding:0;
  background: radial-gradient(circle at 50% 40%, #1c1f26 0%, #0d0d10 80%);
  font-family:'Montserrat',sans-serif;
  color:#fff; display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  height:100vh; overflow:hidden; text-align:center;
}
h1{font-weight:900;font-size:clamp(22px,4vw,38px);margin:0 0 10px}
p{margin:0 0 20px;color:#ccc;max-width:500px}
button{
  background:var(--accent);color:#000;border:none;
  font-weight:900;font-size:18px;
  padding:14px 28px;border-radius:14px;cursor:pointer;
  transition:all .3s ease;
}
button:hover{transform:scale(1.05)}
#scanArea{
  margin-top:40px;width:220px;height:220px;
  border-radius:50%;background:rgba(255,255,255,0.05);
  box-shadow:0 0 40px #000 inset, 0 0 15px rgba(255,255,255,0.1);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;position:relative;
  overflow:hidden;
}
#scanArea::before{
  content:"";position:absolute;width:100%;height:100%;
  background:conic-gradient(from 0deg,transparent 0deg,rgba(255,255,255,0.1) 90deg,transparent 180deg);
  animation:spin 3s linear infinite;opacity:0;
}
@keyframes spin{to{transform:rotate(360deg)}}
#scanArea.scanning::before{opacity:1}
#result{
  margin-top:30px;font-weight:900;font-size:clamp(20px,3.5vw,30px);
  min-height:40px;
}
#result.ghost{color:var(--ghost)}
#result.hunters{color:var(--hunters)}
.fadeIn{animation:fadeIn .5s ease forwards}
@keyframes fadeIn{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
.small{font-size:14px;color:#999;margin-top:12px}
</style>
</head>
<body>
  <h1>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º</h1>
  <p>–î–æ–º —á—É–≤—Å—Ç–≤—É–µ—Ç –≤–∞—à—É —ç–Ω–µ—Ä–≥–∏—é‚Ä¶  
  –ü—Ä–∏–ª–æ–∂–∏—Ç–µ —Ä—É–∫—É –∫ –∫—Ä—É–≥—É, —á—Ç–æ–±—ã –æ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏–ª, –∫—Ç–æ –≤—ã ‚Äî <b>–ü—Ä–∏–∑—Ä–∞–∫</b> –∏–ª–∏ <b>–û—Ö–æ—Ç–Ω–∏–∫</b>.</p>

  <div id="scanArea">üëÜ</div>
  <div id="result"></div>
  <div class="small">–ü–æ—Å–ª–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ‚Äî –æ—Ç–∫—Ä–æ–π—Ç–µ <b>host.html</b> –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ—é –∫–æ–º–∞–Ω–¥—É.</div>

<script>
const TEAMS = [
  { id:'ghosts',  name:'–ü–†–ò–ó–†–ê–ö–ò', color:'ghost' },
  { id:'hunters', name:'–û–•–û–¢–ù–ò–ö–ò', color:'hunters' }
];

let teamCount = { ghosts: 0, hunters: 0 };
const MAX_DIFF = 1;

function chooseBalancedTeam(){
  const diff = teamCount.ghosts - teamCount.hunters;
  let chosen;
  if (Math.abs(diff) >= MAX_DIFF){
    chosen = diff > 0 ? TEAMS[1] : TEAMS[0];
  } else {
    chosen = TEAMS[Math.floor(Math.random() * TEAMS.length)];
  }
  if (chosen.id==='ghosts') teamCount.ghosts++; else teamCount.hunters++;
  return chosen;
}

const scan = document.getElementById('scanArea');
const result = document.getElementById('result');

scan.addEventListener('click', ()=>{
  if(scan.classList.contains('scanning')) return;
  result.textContent = '–°–∫–∞–Ω–∏—Ä—É–µ–º –∞—É—Ä—É...';
  result.className = '';
  scan.classList.add('scanning');

  setTimeout(()=>{
    const team = chooseBalancedTeam();
    localStorage.setItem('hn_team', JSON.stringify(team));
    scan.classList.remove('scanning');
    result.textContent = team.name === '–ü–†–ò–ó–†–ê–ö–ò' ? 
      'üëª –í–∞—à–∞ —ç–Ω–µ—Ä–≥–∏—è –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ü–†–ò–ó–†–ê–ö–ê–ú!' :
      'üî• –û–•–û–¢–ù–ò–ö–ò –ø—Ä–∏–Ω—è–ª–∏ –≤–∞—Å –≤ —Å–≤–æ–∏ —Ä—è–¥—ã!';
    result.classList.add(team.color,'fadeIn');
  }, 2500);
});
</script>
</body>
</html>
