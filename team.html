<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Haunted Escape ‚Äî –ö–æ–º–∞–Ω–¥–Ω—ã–π –∫–≤–µ—Å—Ç</title>
<style>
  body {
    margin:0;
    padding:0;
    font-family:"Georgia",serif;
    background:#0d0d0d;
    color:#f3e9d2;
    overflow:hidden;
  }
  #game-container {
    position:relative;
    width:100vw;
    height:100vh;
    background-size:cover;
    background-position:center;
    transition:background-image 1s ease;
    display:flex;
    flex-direction:column;
    justify-content:flex-end;
    padding:40px;
    box-sizing:border-box;
  }
  .text-box {
    background:rgba(10,10,10,.82);
    padding:22px;
    border-radius:12px;
    font-size:1.15em;
    line-height:1.55;
    max-width:760px;
  }
  .controls {
    display:flex;
    gap:14px;
    align-items:center;
    margin-top:14px;
    flex-wrap:wrap;
  }
  .check {
    display:flex;
    align-items:center;
    gap:10px;
    background:rgba(255,255,255,.04);
    border:1px solid rgba(255,255,255,.1);
    padding:10px 12px;
    border-radius:10px;
  }
  button {
    background-color:#d4a373;
    border:none;
    color:#1a1a1a;
    padding:12px 22px;
    border-radius:9px;
    font-size:1em;
    cursor:pointer;
    transition:filter .2s ease, opacity .2s ease;
  }
  button[disabled]{opacity:.55;cursor:not-allowed}
  button:hover{filter:brightness(1.06)}
  .fade-in{animation:fadeIn 1s ease forwards}
  @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
  .badge{display:inline-block;font-size:.9em;opacity:.85;border:1px solid rgba(255,255,255,.18);
    padding:4px 8px;border-radius:999px;margin-right:8px}
  .room{opacity:.9}
  #teamName{position:absolute;top:12px;left:12px;padding:6px 10px;border-radius:8px;
    background:rgba(0,0,0,.45);font-size:.95em;opacity:.85}
</style>
</head>
<body>

<div id="game-container">
  <div id="teamName"></div>
  <div id="text" class="text-box fade-in"></div>

  <div class="controls">
    <label class="check" id="confirm-wrap" style="display:none">
      <input type="checkbox" id="confirm">
      <span>–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ (—á–µ—Å—Ç–Ω–∞—è –∏–≥—Ä–∞!)</span>
    </label>
    <button id="next-btn">–î–∞–ª—å—à–µ</button>
  </div>
</div>

<script>
const params=new URLSearchParams(location.search);
const team=params.get("team")||"–ö–æ–º–∞–Ω–¥–∞";
document.getElementById("teamName").textContent="–ö–æ–º–∞–Ω–¥–∞: "+team;

const scenes = [
  {
    bg: "intro.png",
    lock: false,
    text: `
      <span class="badge">–ù–æ—á—å</span>
      <strong>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Haunted Escape.</strong><br><br>
      –°–≤–µ—Ç –º–∏–≥–∞–µ—Ç, –∏ –¥–≤–µ—Ä—å –∑–∞ –≤–∞–º–∏ –∑–∞—Ö–ª–æ–ø—ã–≤–∞–µ—Ç—Å—è. –ß—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å—Å—è, –≤—ã –¥–æ–ª–∂–Ω—ã
      –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è <em>–≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏</em>. –ß–∏—Ç–∞–π—Ç–µ –≤—Å–ª—É—Ö, –¥–µ–π—Å—Ç–≤—É–π—Ç–µ –≤–º–µ—Å—Ç–µ.
      <br><br>–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã ‚Äî –Ω–∞–∂–º–∏—Ç–µ ¬´–î–∞–ª—å—à–µ¬ª.
    `
  },
  {
    bg: "library.png",
    lock: true,
    text: `
      <span class="badge room">–ö–æ–º–Ω–∞—Ç–∞ 1 ‚Äî –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –®—ë–ø–æ—Ç–æ–≤</span><br>
      –ú–µ–∂–¥—É –∫–Ω–∏–≥–∞–º–∏ ‚Äî —Å—Ç–∞—Ä–∞—è –∑–∞–ø–∏—Å–∫–∞: ¬´–°–æ–±–µ—Ä–∏ —Ç—Ä–∏ —Å–ª–æ–≤–∞, —á—Ç–æ–±—ã –ø—Ä–æ—Å–Ω—É–ª–∞—Å—å –¥–≤–µ—Ä—å¬ª.
      <br><br><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong><br>
      –ù–∞–π–¥–∏—Ç–µ <b>3 –ø—Ä–µ–¥–º–µ—Ç–∞</b>, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è –Ω–∞ –±—É–∫–≤—ã <b>–¢ ‚Äî –´ ‚Äî –ö</b> (–≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ).
      –°–ª–æ–∂–∏—Ç–µ –∏–∑ –Ω–∏—Ö —Å–ª–æ–≤–æ ¬´–¢–´–ö‚Ä¶¬ª –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –≤–µ–¥—É—â–µ–º—É.
      <br><em>–ì–ª–∞–≤–Ω–æ–µ ‚Äî —Ñ–∞–Ω—Ç–∞–∑–∏—è –∏ –∫–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞!</em>
    `
  },
  {
    bg: "alchemy.png",
    lock: true,
    text: `
      <span class="badge room">–ö–æ–º–Ω–∞—Ç–∞ 2 ‚Äî –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è –ê–ª—Ö–∏–º–∏–∫–∞</span><br>
      –ù–∞ —Å—Ç–æ–ª–µ ‚Äî –∫–æ–ª–±—ã –∏ –ø—ã–ª—å–Ω—ã–µ –±–∞–Ω–∫–∏. –ù–∞ —Å—Ç–µ–Ω–µ –Ω–∞–¥–ø–∏—Å—å: ¬´–°–≤–∞—Ä–∏—Ç–µ –±–æ–¥—Ä–æ—Å—Ç—å¬ª.
      <br><br><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong><br>
      –°–æ–±–µ—Ä–∏—Ç–µ ¬´–∑–µ–ª—å–µ –±–æ–¥—Ä–æ—Å—Ç–∏¬ª –∏–∑ <b>—Ç—Ä—ë—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤</b>: 
      –æ—Ä–∞–Ω–∂–µ–≤–æ–≥–æ, —á—ë—Ä–Ω–æ–≥–æ –∏ —Ñ–∏–æ–ª–µ—Ç–æ–≤–æ–≥–æ. –°–ª–æ–∂–∏—Ç–µ –∏—Ö –≤–º–µ—Å—Ç–µ –∏ –ø—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ 
      <b>–∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ –∏–∑ 10 —Å–ª–æ–≤</b> ‚Äî —à—ë–ø–æ—Ç–æ–º.
    `
  },
  {
    bg: "mirrors.png",
    lock: true,
    text: `
      <span class="badge room">–ö–æ–º–Ω–∞—Ç–∞ 3 ‚Äî –ó–µ—Ä–∫–∞–ª—å–Ω—ã–π –∑–∞–ª</span><br>
      –û—Ç—Ä–∞–∂–µ–Ω–∏—è –º–Ω–æ–∂–∞—Ç—Å—è. –ß—Ç–æ–±—ã –ø—Ä–æ–π—Ç–∏ –¥–∞–ª—å—à–µ, —Å—Ç–∞–Ω—å—Ç–µ ¬´–æ–¥–Ω–∏–º¬ª.
      <br><br><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong><br>
      –ò—Å–ø–æ–ª–Ω–∏—Ç–µ <b>—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–∞–Ω–µ—Ü –ø—Ä–∏–∑—Ä–∞–∫–æ–≤</b> 15 —Å–µ–∫—É–Ω–¥ –∏ –∑–∞–º—Ä–∏—Ç–µ –≤ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ø–æ–∑–µ.
      –°–Ω–∏–º–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ –¥–ª—è –≤–µ–¥—É—â–µ–≥–æ.
    `
  },
  {
    bg: "library.png",
    lock: true,
    text: `
      <span class="badge room">–ö–æ—Ä–∏–¥–æ—Ä –®—ë–ø–æ—Ç–æ–≤</span><br>
      –°–ª—ã—à–µ–Ω –≥–æ–ª–æ—Å: ¬´–ò—Å—Ç–æ—Ä–∏—è ‚Äî –∫–ª—é—á¬ª.
      <br><br><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong><br>
      –í—Å—Ç–∞–Ω—å—Ç–µ –≤ –∫—Ä—É–≥. –ü–µ—Ä–≤—ã–π –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç <b>—Å—Ç—Ä–∞—à–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∏–∑ –æ–¥–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</b> 
      –∏ —à—ë–ø–æ—Ç–æ–º –ø–µ—Ä–µ–¥–∞—ë—Ç —Å–æ—Å–µ–¥—É. –ö–∞–∂–¥—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ —Å–ª–æ–≤—É. –ö–æ–≥–¥–∞ –∏—Å—Ç–æ—Ä–∏—è –≤–µ—Ä–Ω—ë—Ç—Å—è ‚Äî 
      –ø—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ –µ—ë –≤—Å–ª—É—Ö. –ó–∞–ø–æ–º–Ω–∏—Ç–µ <b>–ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ</b>.
    `
  },
  {
    bg: "door.png",
    lock: true,
    text: `
      <span class="badge room">–§–∏–Ω–∞–ª—å–Ω–∞—è –¥–≤–µ—Ä—å</span><br>
      –ù–∞–¥ –∑–∞–º–∫–æ–º ‚Äî —Ç–∞–±–ª–∏—á–∫–∞: ¬´–°–∫–∞–∂–∏ —Å–ª–æ–≤–æ ‚Äî –∏ –≤–æ–π–¥–∏¬ª.
      <br><br><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong><br>
      –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–¥–∞–π—Ç–µ <b>—Ç—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∑–≤—É–∫–∞</b> (–≤–µ—Ç–µ—Ä, —Å–∫—Ä–∏–ø, —à–∞–≥–∏) –∏ 
      –≥—Ä–æ–º–∫–æ –ø—Ä–æ–∏–∑–Ω–µ—Å–∏—Ç–µ <b>–ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ –≤–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏</b>. –ï—Å–ª–∏ –ø—Ä–æ–∑–≤—É—á–∏—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ ‚Äî –∑–∞–º–æ–∫ —â—ë–ª–∫–Ω–µ—Ç.
    `
  },
  {
    bg: "door.png",
    lock: false,
    text: `
      –ó–∞–º–æ–∫ —â—ë–ª–∫–Ω—É–ª. –î–≤–µ—Ä—å –æ—Ç–∫—Ä—ã–ª–∞—Å—å, –∏ —Ö–æ–ª–æ–¥–Ω—ã–π –≤–æ–∑–¥—É—Ö –≤–æ—Ä–≤–∞–ª—Å—è –≤ –∫–æ–º–Ω–∞—Ç—É.
      –í—ã –≤—ã–±—Ä–∞–ª–∏—Å—å –∏–∑ –¥–æ–º–∞ —Å –ø—Ä–∏–≤–∏–¥–µ–Ω–∏—è–º–∏.<br><br>
      <strong>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –∫–æ–º–∞–Ω–¥–∞ ${team}!</strong><br>
      –í—ã –ø—Ä–æ—à–ª–∏ –∫–≤–µ—Å—Ç –¥–æ –∫–æ–Ω—Ü–∞. üéÉ
    `
  }
];

let currentScene = 0;
const textElement = document.getElementById("text");
const nextBtn = document.getElementById("next-btn");
const confirmWrap = document.getElementById("confirm-wrap");
const confirmBox = document.getElementById("confirm");
const container = document.getElementById("game-container");

function updateScene(){
  const scene = scenes[currentScene];
  container.style.backgroundImage = `url(${scene.bg})`;
  textElement.innerHTML = scene.text;
  textElement.classList.add("fade-in");
  setTimeout(()=>textElement.classList.remove("fade-in"), 1000);

  if(scene.lock){
    confirmWrap.style.display = "inline-flex";
    confirmBox.checked = false;
    nextBtn.disabled = true;
  } else {
    confirmWrap.style.display = "none";
    nextBtn.disabled = false;
  }

  nextBtn.textContent = currentScene < scenes.length - 1 ? "–î–∞–ª—å—à–µ" : "–§–∏–Ω–∏—à";
}

confirmBox.addEventListener("change",()=>{
  nextBtn.disabled = !confirmBox.checked;
});

nextBtn.addEventListener("click",()=>{
  currentScene++;
  if(currentScene < scenes.length){
    updateScene();
  } else {
    nextBtn.style.display = "none";
    confirmWrap.style.display = "none";
  }
});

updateScene();
</script>
</body>
</html>
